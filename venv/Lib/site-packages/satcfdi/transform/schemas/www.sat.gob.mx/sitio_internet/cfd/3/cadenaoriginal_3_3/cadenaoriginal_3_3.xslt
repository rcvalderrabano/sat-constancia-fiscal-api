<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:cfdi="http://www.sat.gob.mx/cfd/3" xmlns:cce11="http://www.sat.gob.mx/ComercioExterior11" xmlns:donat="http://www.sat.gob.mx/donat" xmlns:divisas="http://www.sat.gob.mx/divisas" xmlns:implocal="http://www.sat.gob.mx/implocal" xmlns:leyendasFisc="http://www.sat.gob.mx/leyendasFiscales" xmlns:pfic="http://www.sat.gob.mx/pfic" xmlns:tpe="http://www.sat.gob.mx/TuristaPasajeroExtranjero" xmlns:nomina12="http://www.sat.gob.mx/nomina12" xmlns:registrofiscal="http://www.sat.gob.mx/registrofiscal" xmlns:pagoenespecie="http://www.sat.gob.mx/pagoenespecie" xmlns:aerolineas="http://www.sat.gob.mx/aerolineas" xmlns:valesdedespensa="http://www.sat.gob.mx/valesdedespensa" xmlns:consumodecombustibles="http://www.sat.gob.mx/consumodecombustibles" xmlns:notariospublicos="http://www.sat.gob.mx/notariospublicos" xmlns:vehiculousado="http://www.sat.gob.mx/vehiculousado" xmlns:servicioparcial="http://www.sat.gob.mx/servicioparcialconstruccion" xmlns:decreto="http://www.sat.gob.mx/renovacionysustitucionvehiculos" xmlns:destruccion="http://www.sat.gob.mx/certificadodestruccion" xmlns:obrasarte="http://www.sat.gob.mx/arteantiguedades" xmlns:ine="http://www.sat.gob.mx/ine" xmlns:iedu="http://www.sat.gob.mx/iedu" xmlns:ventavehiculos="http://www.sat.gob.mx/ventavehiculos" xmlns:terceros="http://www.sat.gob.mx/terceros" xmlns:pago10="http://www.sat.gob.mx/Pagos" xmlns:detallista="http://www.sat.gob.mx/detallista" xmlns:ecc12="http://www.sat.gob.mx/EstadoDeCuentaCombustible12" xmlns:consumodecombustibles11="http://www.sat.gob.mx/ConsumoDeCombustibles11" xmlns:gceh="http://www.sat.gob.mx/GastosHidrocarburos10" xmlns:ieeh="http://www.sat.gob.mx/IngresosHidrocarburos10" xmlns:cartaporte="http://www.sat.gob.mx/CartaPorte" xmlns:cartaporte20="http://www.sat.gob.mx/CartaPorte20" version="2.0"><xsl:output method="text" version="1.0" encoding="UTF-8" indent="no"/><xsl:include href="../../2/cadenaoriginal_2_0/utilerias.xslt"/><xsl:include href="../../EstadoDeCuentaCombustible/ecc11.xslt"/><xsl:include href="../../donat/donat11.xslt"/><xsl:include href="../../divisas/divisas.xslt"/><xsl:include href="../../implocal/implocal.xslt"/><xsl:include href="../../leyendasFiscales/leyendasFisc.xslt"/><xsl:include href="../../pfic/pfic.xslt"/><xsl:include href="../../TuristaPasajeroExtranjero/TuristaPasajeroExtranjero.xslt"/><xsl:include href="../../nomina/nomina12.xslt"/><xsl:include href="../../cfdiregistrofiscal/cfdiregistrofiscal.xslt"/><xsl:include href="../../pagoenespecie/pagoenespecie.xslt"/><xsl:include href="../../aerolineas/aerolineas.xslt"/><xsl:include href="../../valesdedespensa/valesdedespensa.xslt"/><xsl:include href="../../consumodecombustibles/consumodecombustibles.xslt"/><xsl:include href="../../notariospublicos/notariospublicos.xslt"/><xsl:include href="../../vehiculousado/vehiculousado.xslt"/><xsl:include href="../../servicioparcialconstruccion/servicioparcialconstruccion.xslt"/><xsl:include href="../../renovacionysustitucionvehiculos/renovacionysustitucionvehiculos.xslt"/><xsl:include href="../../certificadodestruccion/certificadodedestruccion.xslt"/><xsl:include href="../../arteantiguedades/obrasarteantiguedades.xslt"/><xsl:include href="../../ComercioExterior11/ComercioExterior11.xslt"/><xsl:include href="../../ine/ine11.xslt"/><xsl:include href="../../iedu/iedu.xslt"/><xsl:include href="../../ventavehiculos/ventavehiculos11.xslt"/><xsl:include href="../../terceros/terceros11.xslt"/><xsl:include href="../../Pagos/Pagos10.xslt"/><xsl:include href="../../detallista/detallista.xslt"/><xsl:include href="../../EstadoDeCuentaCombustible/ecc12.xslt"/><xsl:include href="../../consumodecombustibles/consumodeCombustibles11.xslt"/><xsl:include href="../../GastosHidrocarburos10/GastosHidrocarburos10.xslt"/><xsl:include href="../../IngresosHidrocarburos10/IngresosHidrocarburos.xslt"/><xsl:include href="../../CartaPorte/CartaPorte.xslt"/><xsl:include href="../../CartaPorte/CartaPorte20.xslt"/><xsl:template match="/">|<xsl:apply-templates select="/cfdi:Comprobante"/>||</xsl:template><xsl:template match="cfdi:Comprobante"><xsl:call-template name="Requerido"><xsl:with-param name="valor" select="./@Version"/></xsl:call-template><xsl:call-template name="Opcional"><xsl:with-param name="valor" select="./@Serie"/></xsl:call-template><xsl:call-template name="Opcional"><xsl:with-param name="valor" select="./@Folio"/></xsl:call-template><xsl:call-template name="Requerido"><xsl:with-param name="valor" select="./@Fecha"/></xsl:call-template><xsl:call-template name="Opcional"><xsl:with-param name="valor" select="./@FormaPago"/></xsl:call-template><xsl:call-template name="Requerido"><xsl:with-param name="valor" select="./@NoCertificado"/></xsl:call-template><xsl:call-template name="Opcional"><xsl:with-param name="valor" select="./@CondicionesDePago"/></xsl:call-template><xsl:call-template name="Requerido"><xsl:with-param name="valor" select="./@SubTotal"/></xsl:call-template><xsl:call-template name="Opcional"><xsl:with-param name="valor" select="./@Descuento"/></xsl:call-template><xsl:call-template name="Requerido"><xsl:with-param name="valor" select="./@Moneda"/></xsl:call-template><xsl:call-template name="Opcional"><xsl:with-param name="valor" select="./@TipoCambio"/></xsl:call-template><xsl:call-template name="Requerido"><xsl:with-param name="valor" select="./@Total"/></xsl:call-template><xsl:call-template name="Requerido"><xsl:with-param name="valor" select="./@TipoDeComprobante"/></xsl:call-template><xsl:call-template name="Opcional"><xsl:with-param name="valor" select="./@MetodoPago"/></xsl:call-template><xsl:call-template name="Requerido"><xsl:with-param name="valor" select="./@LugarExpedicion"/></xsl:call-template><xsl:call-template name="Opcional"><xsl:with-param name="valor" select="./@Confirmacion"/></xsl:call-template><xsl:apply-templates select="./cfdi:CfdiRelacionados"/><xsl:apply-templates select="./cfdi:Emisor"/><xsl:apply-templates select="./cfdi:Receptor"/><xsl:apply-templates select="./cfdi:Conceptos"/><xsl:apply-templates select="./cfdi:Impuestos"/><xsl:for-each select="./cfdi:Complemento"><xsl:apply-templates select="."/></xsl:for-each></xsl:template><xsl:template match="cfdi:CfdiRelacionados"><xsl:call-template name="Requerido"><xsl:with-param name="valor" select="./@TipoRelacion"/></xsl:call-template><xsl:for-each select="./cfdi:CfdiRelacionado"><xsl:call-template name="Requerido"><xsl:with-param name="valor" select="./@UUID"/></xsl:call-template></xsl:for-each></xsl:template><xsl:template match="cfdi:Emisor"><xsl:call-template name="Requerido"><xsl:with-param name="valor" select="./@Rfc"/></xsl:call-template><xsl:call-template name="Opcional"><xsl:with-param name="valor" select="./@Nombre"/></xsl:call-template><xsl:call-template name="Requerido"><xsl:with-param name="valor" select="./@RegimenFiscal"/></xsl:call-template></xsl:template><xsl:template match="cfdi:Receptor"><xsl:call-template name="Requerido"><xsl:with-param name="valor" select="./@Rfc"/></xsl:call-template><xsl:call-template name="Opcional"><xsl:with-param name="valor" select="./@Nombre"/></xsl:call-template><xsl:call-template name="Opcional"><xsl:with-param name="valor" select="./@ResidenciaFiscal"/></xsl:call-template><xsl:call-template name="Opcional"><xsl:with-param name="valor" select="./@NumRegIdTrib"/></xsl:call-template><xsl:call-template name="Requerido"><xsl:with-param name="valor" select="./@UsoCFDI"/></xsl:call-template></xsl:template><xsl:template match="cfdi:Conceptos"><xsl:for-each select="./cfdi:Concepto"><xsl:apply-templates select="."/></xsl:for-each></xsl:template><xsl:template match="cfdi:Concepto"><xsl:call-template name="Requerido"><xsl:with-param name="valor" select="./@ClaveProdServ"/></xsl:call-template><xsl:call-template name="Opcional"><xsl:with-param name="valor" select="./@NoIdentificacion"/></xsl:call-template><xsl:call-template name="Requerido"><xsl:with-param name="valor" select="./@Cantidad"/></xsl:call-template><xsl:call-template name="Requerido"><xsl:with-param name="valor" select="./@ClaveUnidad"/></xsl:call-template><xsl:call-template name="Opcional"><xsl:with-param name="valor" select="./@Unidad"/></xsl:call-template><xsl:call-template name="Requerido"><xsl:with-param name="valor" select="./@Descripcion"/></xsl:call-template><xsl:call-template name="Requerido"><xsl:with-param name="valor" select="./@ValorUnitario"/></xsl:call-template><xsl:call-template name="Requerido"><xsl:with-param name="valor" select="./@Importe"/></xsl:call-template><xsl:call-template name="Opcional"><xsl:with-param name="valor" select="./@Descuento"/></xsl:call-template><xsl:for-each select="./cfdi:Impuestos/cfdi:Traslados/cfdi:Traslado"><xsl:call-template name="Requerido"><xsl:with-param name="valor" select="./@Base"/></xsl:call-template><xsl:call-template name="Requerido"><xsl:with-param name="valor" select="./@Impuesto"/></xsl:call-template><xsl:call-template name="Requerido"><xsl:with-param name="valor" select="./@TipoFactor"/></xsl:call-template><xsl:call-template name="Opcional"><xsl:with-param name="valor" select="./@TasaOCuota"/></xsl:call-template><xsl:call-template name="Opcional"><xsl:with-param name="valor" select="./@Importe"/></xsl:call-template></xsl:for-each><xsl:for-each select="./cfdi:Impuestos/cfdi:Retenciones/cfdi:Retencion"><xsl:call-template name="Requerido"><xsl:with-param name="valor" select="./@Base"/></xsl:call-template><xsl:call-template name="Requerido"><xsl:with-param name="valor" select="./@Impuesto"/></xsl:call-template><xsl:call-template name="Requerido"><xsl:with-param name="valor" select="./@TipoFactor"/></xsl:call-template><xsl:call-template name="Requerido"><xsl:with-param name="valor" select="./@TasaOCuota"/></xsl:call-template><xsl:call-template name="Requerido"><xsl:with-param name="valor" select="./@Importe"/></xsl:call-template></xsl:for-each><xsl:for-each select="./cfdi:InformacionAduanera"><xsl:apply-templates select="."/></xsl:for-each><xsl:if test="./cfdi:CuentaPredial"><xsl:apply-templates select="./cfdi:CuentaPredial"/></xsl:if><xsl:if test="./cfdi:ComplementoConcepto"><xsl:apply-templates select="./cfdi:ComplementoConcepto"/></xsl:if><xsl:for-each select=".//cfdi:Parte"><xsl:apply-templates select="."/></xsl:for-each></xsl:template><xsl:template match="cfdi:InformacionAduanera"><xsl:call-template name="Requerido"><xsl:with-param name="valor" select="./@NumeroPedimento"/></xsl:call-template></xsl:template><xsl:template match="cfdi:CuentaPredial"><xsl:call-template name="Requerido"><xsl:with-param name="valor" select="./@Numero"/></xsl:call-template></xsl:template><xsl:template match="cfdi:ComplementoConcepto"><xsl:for-each select="./*"><xsl:apply-templates select="."/></xsl:for-each></xsl:template><xsl:template match="cfdi:Parte"><xsl:call-template name="Requerido"><xsl:with-param name="valor" select="./@ClaveProdServ"/></xsl:call-template><xsl:call-template name="Opcional"><xsl:with-param name="valor" select="./@NoIdentificacion"/></xsl:call-template><xsl:call-template name="Requerido"><xsl:with-param name="valor" select="./@Cantidad"/></xsl:call-template><xsl:call-template name="Opcional"><xsl:with-param name="valor" select="./@Unidad"/></xsl:call-template><xsl:call-template name="Requerido"><xsl:with-param name="valor" select="./@Descripcion"/></xsl:call-template><xsl:call-template name="Opcional"><xsl:with-param name="valor" select="./@ValorUnitario"/></xsl:call-template><xsl:call-template name="Opcional"><xsl:with-param name="valor" select="./@Importe"/></xsl:call-template><xsl:for-each select=".//cfdi:InformacionAduanera"><xsl:apply-templates select="."/></xsl:for-each></xsl:template><xsl:template match="cfdi:Complemento"><xsl:for-each select="./*"><xsl:apply-templates select="."/></xsl:for-each></xsl:template><xsl:template match="cfdi:Impuestos"><xsl:for-each select="./cfdi:Retenciones/cfdi:Retencion"><xsl:call-template name="Requerido"><xsl:with-param name="valor" select="./@Impuesto"/></xsl:call-template><xsl:call-template name="Requerido"><xsl:with-param name="valor" select="./@Importe"/></xsl:call-template></xsl:for-each><xsl:call-template name="Opcional"><xsl:with-param name="valor" select="./@TotalImpuestosRetenidos"/></xsl:call-template><xsl:for-each select="./cfdi:Traslados/cfdi:Traslado"><xsl:call-template name="Requerido"><xsl:with-param name="valor" select="./@Impuesto"/></xsl:call-template><xsl:call-template name="Requerido"><xsl:with-param name="valor" select="./@TipoFactor"/></xsl:call-template><xsl:call-template name="Requerido"><xsl:with-param name="valor" select="./@TasaOCuota"/></xsl:call-template><xsl:call-template name="Requerido"><xsl:with-param name="valor" select="./@Importe"/></xsl:call-template></xsl:for-each><xsl:call-template name="Opcional"><xsl:with-param name="valor" select="./@TotalImpuestosTrasladados"/></xsl:call-template></xsl:template></xsl:stylesheet>