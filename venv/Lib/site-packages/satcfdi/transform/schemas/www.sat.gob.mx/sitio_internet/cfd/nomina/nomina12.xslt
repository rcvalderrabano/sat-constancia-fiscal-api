<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:nomina12="http://www.sat.gob.mx/nomina12" version="2.0"><xsl:template match="nomina12:Nomina"><xsl:call-template name="Requerido"><xsl:with-param name="valor" select="./@Version"/></xsl:call-template><xsl:call-template name="Requerido"><xsl:with-param name="valor" select="./@TipoNomina"/></xsl:call-template><xsl:call-template name="Requerido"><xsl:with-param name="valor" select="./@FechaPago"/></xsl:call-template><xsl:call-template name="Requerido"><xsl:with-param name="valor" select="./@FechaInicialPago"/></xsl:call-template><xsl:call-template name="Requerido"><xsl:with-param name="valor" select="./@FechaFinalPago"/></xsl:call-template><xsl:call-template name="Requerido"><xsl:with-param name="valor" select="./@NumDiasPagados"/></xsl:call-template><xsl:call-template name="Opcional"><xsl:with-param name="valor" select="./@TotalPercepciones"/></xsl:call-template><xsl:call-template name="Opcional"><xsl:with-param name="valor" select="./@TotalDeducciones"/></xsl:call-template><xsl:call-template name="Opcional"><xsl:with-param name="valor" select="./@TotalOtrosPagos"/></xsl:call-template><xsl:for-each select="./nomina12:Emisor"><xsl:apply-templates select="."/></xsl:for-each><xsl:for-each select="./nomina12:Receptor"><xsl:apply-templates select="."/></xsl:for-each><xsl:for-each select="./nomina12:Percepciones"><xsl:apply-templates select="."/></xsl:for-each><xsl:for-each select="./nomina12:Deducciones"><xsl:apply-templates select="."/></xsl:for-each><xsl:for-each select="./nomina12:OtrosPagos"><xsl:apply-templates select="."/></xsl:for-each><xsl:for-each select="./nomina12:Incapacidades"><xsl:apply-templates select="."/></xsl:for-each></xsl:template><xsl:template match="nomina12:Emisor"><xsl:call-template name="Opcional"><xsl:with-param name="valor" select="./@Curp"/></xsl:call-template><xsl:call-template name="Opcional"><xsl:with-param name="valor" select="./@RegistroPatronal"/></xsl:call-template><xsl:call-template name="Opcional"><xsl:with-param name="valor" select="./@RfcPatronOrigen"/></xsl:call-template><xsl:for-each select="./nomina12:EntidadSNCF"><xsl:apply-templates select="."/></xsl:for-each></xsl:template><xsl:template match="nomina12:EntidadSNCF"><xsl:call-template name="Requerido"><xsl:with-param name="valor" select="./@OrigenRecurso"/></xsl:call-template><xsl:call-template name="Opcional"><xsl:with-param name="valor" select="./@MontoRecursoPropio"/></xsl:call-template></xsl:template><xsl:template match="nomina12:Receptor"><xsl:call-template name="Requerido"><xsl:with-param name="valor" select="./@Curp"/></xsl:call-template><xsl:call-template name="Opcional"><xsl:with-param name="valor" select="./@NumSeguridadSocial"/></xsl:call-template><xsl:call-template name="Opcional"><xsl:with-param name="valor" select="./@FechaInicioRelLaboral"/></xsl:call-template><xsl:call-template name="Opcional"><xsl:with-param name="valor" select="./@Antigüedad"/></xsl:call-template><xsl:call-template name="Requerido"><xsl:with-param name="valor" select="./@TipoContrato"/></xsl:call-template><xsl:call-template name="Opcional"><xsl:with-param name="valor" select="./@Sindicalizado"/></xsl:call-template><xsl:call-template name="Opcional"><xsl:with-param name="valor" select="./@TipoJornada"/></xsl:call-template><xsl:call-template name="Requerido"><xsl:with-param name="valor" select="./@TipoRegimen"/></xsl:call-template><xsl:call-template name="Requerido"><xsl:with-param name="valor" select="./@NumEmpleado"/></xsl:call-template><xsl:call-template name="Opcional"><xsl:with-param name="valor" select="./@Departamento"/></xsl:call-template><xsl:call-template name="Opcional"><xsl:with-param name="valor" select="./@Puesto"/></xsl:call-template><xsl:call-template name="Opcional"><xsl:with-param name="valor" select="./@RiesgoPuesto"/></xsl:call-template><xsl:call-template name="Requerido"><xsl:with-param name="valor" select="./@PeriodicidadPago"/></xsl:call-template><xsl:call-template name="Opcional"><xsl:with-param name="valor" select="./@Banco"/></xsl:call-template><xsl:call-template name="Opcional"><xsl:with-param name="valor" select="./@CuentaBancaria"/></xsl:call-template><xsl:call-template name="Opcional"><xsl:with-param name="valor" select="./@SalarioBaseCotApor"/></xsl:call-template><xsl:call-template name="Opcional"><xsl:with-param name="valor" select="./@SalarioDiarioIntegrado"/></xsl:call-template><xsl:call-template name="Requerido"><xsl:with-param name="valor" select="./@ClaveEntFed"/></xsl:call-template><xsl:for-each select="./nomina12:SubContratacion"><xsl:apply-templates select="."/></xsl:for-each></xsl:template><xsl:template match="nomina12:SubContratacion"><xsl:call-template name="Requerido"><xsl:with-param name="valor" select="./@RfcLabora"/></xsl:call-template><xsl:call-template name="Requerido"><xsl:with-param name="valor" select="./@PorcentajeTiempo"/></xsl:call-template></xsl:template><xsl:template match="nomina12:Percepciones"><xsl:call-template name="Opcional"><xsl:with-param name="valor" select="./@TotalSueldos"/></xsl:call-template><xsl:call-template name="Opcional"><xsl:with-param name="valor" select="./@TotalSeparacionIndemnizacion"/></xsl:call-template><xsl:call-template name="Opcional"><xsl:with-param name="valor" select="./@TotalJubilacionPensionRetiro"/></xsl:call-template><xsl:call-template name="Requerido"><xsl:with-param name="valor" select="./@TotalGravado"/></xsl:call-template><xsl:call-template name="Requerido"><xsl:with-param name="valor" select="./@TotalExento"/></xsl:call-template><xsl:for-each select="./nomina12:Percepcion"><xsl:apply-templates select="."/></xsl:for-each><xsl:for-each select="./nomina12:JubilacionPensionRetiro"><xsl:apply-templates select="."/></xsl:for-each><xsl:for-each select="./nomina12:SeparacionIndemnizacion"><xsl:apply-templates select="."/></xsl:for-each></xsl:template><xsl:template match="nomina12:Percepcion"><xsl:call-template name="Requerido"><xsl:with-param name="valor" select="./@TipoPercepcion"/></xsl:call-template><xsl:call-template name="Requerido"><xsl:with-param name="valor" select="./@Clave"/></xsl:call-template><xsl:call-template name="Requerido"><xsl:with-param name="valor" select="./@Concepto"/></xsl:call-template><xsl:call-template name="Requerido"><xsl:with-param name="valor" select="./@ImporteGravado"/></xsl:call-template><xsl:call-template name="Requerido"><xsl:with-param name="valor" select="./@ImporteExento"/></xsl:call-template><xsl:for-each select="./nomina12:AccionesOTitulos"><xsl:apply-templates select="."/></xsl:for-each><xsl:for-each select="./nomina12:HorasExtra"><xsl:apply-templates select="."/></xsl:for-each></xsl:template><xsl:template match="nomina12:AccionesOTitulos"><xsl:call-template name="Requerido"><xsl:with-param name="valor" select="./@ValorMercado"/></xsl:call-template><xsl:call-template name="Requerido"><xsl:with-param name="valor" select="./@PrecioAlOtorgarse"/></xsl:call-template></xsl:template><xsl:template match="nomina12:HorasExtra"><xsl:call-template name="Requerido"><xsl:with-param name="valor" select="./@Dias"/></xsl:call-template><xsl:call-template name="Requerido"><xsl:with-param name="valor" select="./@TipoHoras"/></xsl:call-template><xsl:call-template name="Requerido"><xsl:with-param name="valor" select="./@HorasExtra"/></xsl:call-template><xsl:call-template name="Requerido"><xsl:with-param name="valor" select="./@ImportePagado"/></xsl:call-template></xsl:template><xsl:template match="nomina12:JubilacionPensionRetiro"><xsl:call-template name="Opcional"><xsl:with-param name="valor" select="./@TotalUnaExhibicion"/></xsl:call-template><xsl:call-template name="Opcional"><xsl:with-param name="valor" select="./@TotalParcialidad"/></xsl:call-template><xsl:call-template name="Opcional"><xsl:with-param name="valor" select="./@MontoDiario"/></xsl:call-template><xsl:call-template name="Requerido"><xsl:with-param name="valor" select="./@IngresoAcumulable"/></xsl:call-template><xsl:call-template name="Requerido"><xsl:with-param name="valor" select="./@IngresoNoAcumulable"/></xsl:call-template></xsl:template><xsl:template match="nomina12:SeparacionIndemnizacion"><xsl:call-template name="Requerido"><xsl:with-param name="valor" select="./@TotalPagado"/></xsl:call-template><xsl:call-template name="Requerido"><xsl:with-param name="valor" select="./@NumAñosServicio"/></xsl:call-template><xsl:call-template name="Requerido"><xsl:with-param name="valor" select="./@UltimoSueldoMensOrd"/></xsl:call-template><xsl:call-template name="Requerido"><xsl:with-param name="valor" select="./@IngresoAcumulable"/></xsl:call-template><xsl:call-template name="Requerido"><xsl:with-param name="valor" select="./@IngresoNoAcumulable"/></xsl:call-template></xsl:template><xsl:template match="nomina12:Deducciones"><xsl:call-template name="Opcional"><xsl:with-param name="valor" select="./@TotalOtrasDeducciones"/></xsl:call-template><xsl:call-template name="Opcional"><xsl:with-param name="valor" select="./@TotalImpuestosRetenidos"/></xsl:call-template><xsl:for-each select="./nomina12:Deduccion"><xsl:apply-templates select="."/></xsl:for-each></xsl:template><xsl:template match="nomina12:Deduccion"><xsl:call-template name="Requerido"><xsl:with-param name="valor" select="./@TipoDeduccion"/></xsl:call-template><xsl:call-template name="Requerido"><xsl:with-param name="valor" select="./@Clave"/></xsl:call-template><xsl:call-template name="Requerido"><xsl:with-param name="valor" select="./@Concepto"/></xsl:call-template><xsl:call-template name="Requerido"><xsl:with-param name="valor" select="./@Importe"/></xsl:call-template></xsl:template><xsl:template match="nomina12:OtrosPagos"><xsl:for-each select="./nomina12:OtroPago"><xsl:apply-templates select="."/></xsl:for-each></xsl:template><xsl:template match="nomina12:OtroPago"><xsl:call-template name="Requerido"><xsl:with-param name="valor" select="./@TipoOtroPago"/></xsl:call-template><xsl:call-template name="Requerido"><xsl:with-param name="valor" select="./@Clave"/></xsl:call-template><xsl:call-template name="Requerido"><xsl:with-param name="valor" select="./@Concepto"/></xsl:call-template><xsl:call-template name="Requerido"><xsl:with-param name="valor" select="./@Importe"/></xsl:call-template><xsl:for-each select="./nomina12:SubsidioAlEmpleo"><xsl:apply-templates select="."/></xsl:for-each><xsl:for-each select="./nomina12:CompensacionSaldosAFavor"><xsl:apply-templates select="."/></xsl:for-each></xsl:template><xsl:template match="nomina12:SubsidioAlEmpleo"><xsl:call-template name="Requerido"><xsl:with-param name="valor" select="./@SubsidioCausado"/></xsl:call-template></xsl:template><xsl:template match="nomina12:CompensacionSaldosAFavor"><xsl:call-template name="Requerido"><xsl:with-param name="valor" select="./@SaldoAFavor"/></xsl:call-template><xsl:call-template name="Requerido"><xsl:with-param name="valor" select="./@Año"/></xsl:call-template><xsl:call-template name="Requerido"><xsl:with-param name="valor" select="./@RemanenteSalFav"/></xsl:call-template></xsl:template><xsl:template match="nomina12:Incapacidades"><xsl:for-each select="./nomina12:Incapacidad"><xsl:apply-templates select="."/></xsl:for-each></xsl:template><xsl:template match="nomina12:Incapacidad"><xsl:call-template name="Requerido"><xsl:with-param name="valor" select="./@DiasIncapacidad"/></xsl:call-template><xsl:call-template name="Requerido"><xsl:with-param name="valor" select="./@TipoIncapacidad"/></xsl:call-template><xsl:call-template name="Opcional"><xsl:with-param name="valor" select="./@ImporteMonetario"/></xsl:call-template></xsl:template></xsl:stylesheet>