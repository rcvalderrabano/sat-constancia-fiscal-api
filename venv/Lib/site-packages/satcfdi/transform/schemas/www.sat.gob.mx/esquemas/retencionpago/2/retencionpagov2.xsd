<xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:retenciones="http://www.sat.gob.mx/esquemas/retencionpago/2" xmlns:c_retenciones="http://www.sat.gob.mx/esquemas/retencionpago/1/catalogos" xmlns:catCFDI="http://www.sat.gob.mx/sitio_internet/cfd/catalogos" xmlns:tdCFDI="http://www.sat.gob.mx/sitio_internet/cfd/tipoDatos/tdCFDI" targetNamespace="http://www.sat.gob.mx/esquemas/retencionpago/2" elementFormDefault="qualified" attributeFormDefault="unqualified"><xs:import namespace="http://www.sat.gob.mx/esquemas/retencionpago/1/catalogos" schemaLocation="../1/catalogos/catRetenciones.xsd"/><xs:import namespace="http://www.sat.gob.mx/sitio_internet/cfd/catalogos" schemaLocation="../../../sitio_internet/cfd/catalogos/catCFDI.xsd"/><xs:import namespace="http://www.sat.gob.mx/sitio_internet/cfd/tipoDatos/tdCFDI" schemaLocation="../../../sitio_internet/cfd/tipoDatos/tdCFDI/tdCFDI.xsd"/><xs:element name="Retenciones"><xs:complexType><xs:sequence><xs:element name="CfdiRetenRelacionados" minOccurs="0"><xs:complexType><xs:attribute name="TipoRelacion" type="catCFDI:c_TipoRelacion" use="required"/><xs:attribute name="UUID" use="required"><xs:simpleType><xs:restriction base="xs:string"><xs:length value="36"/><xs:whiteSpace value="collapse"/><xs:pattern value="[a-f0-9A-F]{8}-[a-f0-9A-F]{4}-[a-f0-9A-F]{4}-[a-f0-9A-F]{4}-[a-f0-9A-F]{12}"/></xs:restriction></xs:simpleType></xs:attribute></xs:complexType></xs:element><xs:element name="Emisor"><xs:complexType><xs:attribute name="RfcE" type="tdCFDI:t_RFC" use="required"/><xs:attribute name="NomDenRazSocE" use="required"><xs:simpleType><xs:restriction base="xs:string"><xs:minLength value="1"/><xs:maxLength value="254"/><xs:whiteSpace value="collapse"/></xs:restriction></xs:simpleType></xs:attribute><xs:attribute name="RegimenFiscalE" type="catCFDI:c_RegimenFiscal" use="required"/></xs:complexType></xs:element><xs:element name="Receptor"><xs:complexType><xs:choice><xs:element name="Nacional"><xs:complexType><xs:attribute name="RfcR" type="tdCFDI:t_RFC" use="required"/><xs:attribute name="NomDenRazSocR" use="required"><xs:simpleType><xs:restriction base="xs:string"><xs:minLength value="1"/><xs:maxLength value="254"/><xs:whiteSpace value="collapse"/></xs:restriction></xs:simpleType></xs:attribute><xs:attribute name="CurpR" type="tdCFDI:t_CURP" use="optional"/><xs:attribute name="DomicilioFiscalR" use="required"><xs:simpleType><xs:restriction base="xs:string"><xs:length value="5"/><xs:whiteSpace value="collapse"/><xs:pattern value="[0-9]{5}"/></xs:restriction></xs:simpleType></xs:attribute></xs:complexType></xs:element><xs:element name="Extranjero"><xs:complexType><xs:attribute name="NumRegIdTribR" use="optional"><xs:simpleType><xs:restriction base="xs:string"><xs:minLength value="1"/><xs:maxLength value="20"/><xs:whiteSpace value="collapse"/></xs:restriction></xs:simpleType></xs:attribute><xs:attribute name="NomDenRazSocR" use="required"><xs:simpleType><xs:restriction base="xs:string"><xs:minLength value="1"/><xs:maxLength value="300"/><xs:whiteSpace value="collapse"/></xs:restriction></xs:simpleType></xs:attribute></xs:complexType></xs:element></xs:choice><xs:attribute name="NacionalidadR" use="required"><xs:simpleType><xs:restriction base="xs:string"><xs:whiteSpace value="collapse"/><xs:enumeration value="Nacional"/><xs:enumeration value="Extranjero"/></xs:restriction></xs:simpleType></xs:attribute></xs:complexType></xs:element><xs:element name="Periodo"><xs:complexType><xs:attribute name="MesIni" type="c_retenciones:c_Periodo" use="required"/><xs:attribute name="MesFin" type="c_retenciones:c_Periodo" use="required"/><xs:attribute name="Ejercicio" type="c_retenciones:c_Ejercicio" use="required"/></xs:complexType></xs:element><xs:element name="Totales"><xs:complexType><xs:sequence><xs:element name="ImpRetenidos" minOccurs="0" maxOccurs="unbounded"><xs:complexType><xs:attribute name="BaseRet" type="tdCFDI:t_ImporteMXN" use="optional"/><xs:attribute name="ImpuestoRet" type="catCFDI:c_Impuesto" use="optional"/><xs:attribute name="MontoRet" type="tdCFDI:t_ImporteMXN" use="required"/><xs:attribute name="TipoPagoRet" type="c_retenciones:c_TipoPagoRet" use="required"/></xs:complexType></xs:element></xs:sequence><xs:attribute name="MontoTotOperacion" type="tdCFDI:t_ImporteMXN" use="required"/><xs:attribute name="MontoTotGrav" type="tdCFDI:t_ImporteMXN" use="required"/><xs:attribute name="MontoTotExent" type="tdCFDI:t_ImporteMXN" use="required"/><xs:attribute name="MontoTotRet" type="tdCFDI:t_ImporteMXN" use="required"/><xs:attribute name="UtilidadBimestral" type="tdCFDI:t_ImporteMXN" use="optional"/><xs:attribute name="ISRCorrespondiente" type="tdCFDI:t_ImporteMXN" use="optional"/></xs:complexType></xs:element><xs:element name="Complemento" minOccurs="0"><xs:complexType><xs:sequence><xs:any minOccurs="0" maxOccurs="unbounded"/></xs:sequence></xs:complexType></xs:element><xs:element name="Addenda" minOccurs="0"><xs:complexType><xs:sequence><xs:any minOccurs="0" maxOccurs="unbounded"/></xs:sequence></xs:complexType></xs:element></xs:sequence><xs:attribute name="Version" use="required" fixed="2.0"><xs:simpleType><xs:restriction base="xs:string"><xs:whiteSpace value="collapse"/></xs:restriction></xs:simpleType></xs:attribute><xs:attribute name="FolioInt" use="optional"><xs:simpleType><xs:restriction base="xs:string"><xs:minLength value="1"/><xs:maxLength value="20"/><xs:whiteSpace value="collapse"/><xs:pattern value="[0-9a-zA-Z]{1,20}"/></xs:restriction></xs:simpleType></xs:attribute><xs:attribute name="Sello" use="required"><xs:simpleType><xs:restriction base="xs:string"><xs:whiteSpace value="collapse"/></xs:restriction></xs:simpleType></xs:attribute><xs:attribute name="NoCertificado" use="required"><xs:simpleType><xs:restriction base="xs:string"><xs:length value="20"/><xs:whiteSpace value="collapse"/><xs:pattern value="[0-9]{20}"/></xs:restriction></xs:simpleType></xs:attribute><xs:attribute name="Certificado" use="required"><xs:simpleType><xs:restriction base="xs:string"><xs:whiteSpace value="collapse"/></xs:restriction></xs:simpleType></xs:attribute><xs:attribute name="FechaExp" type="tdCFDI:t_FechaH" use="required"/><xs:attribute name="LugarExpRetenc" type="catCFDI:c_CodigoPostal" use="required"/><xs:attribute name="CveRetenc" type="c_retenciones:c_CveRetenc" use="required"/><xs:attribute name="DescRetenc" use="optional"><xs:simpleType><xs:restriction base="xs:string"><xs:minLength value="1"/><xs:maxLength value="100"/><xs:whiteSpace value="collapse"/></xs:restriction></xs:simpleType></xs:attribute></xs:complexType></xs:element></xs:schema>